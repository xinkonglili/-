<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="centos安装git1、Another app is currently holding the yum lock; waiting for it to exit… The other application is: yum Memory : 26 M RSS (963 MB VSZ) Started: Thu Nov 23 15:46:24 2023 - 04:32 ago State : T">
<meta property="og:type" content="article">
<meta property="og:title" content="linux报错总结">
<meta property="og:url" content="http://example.com/2023/11/23/linux%E6%8A%A5%E9%94%99%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="centos安装git1、Another app is currently holding the yum lock; waiting for it to exit… The other application is: yum Memory : 26 M RSS (963 MB VSZ) Started: Thu Nov 23 15:46:24 2023 - 04:32 ago State : T">
<meta property="og:locale">
<meta property="og:image" content="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271721856.png">
<meta property="og:image" content="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271720598.png">
<meta property="og:image" content="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271701774.png">
<meta property="og:image" content="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271714203.png">
<meta property="article:published_time" content="2023-11-23T08:07:24.000Z">
<meta property="article:modified_time" content="2023-12-06T10:39:15.961Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271721856.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://example.com/2023/11/23/linux报错总结/"/>





  <title>linux报错总结 | Hexo</title>
  








<meta name="generator" content="Hexo 6.3.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://example.com/2023/11/23/linux%E6%8A%A5%E9%94%99%E6%80%BB%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">linux报错总结</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2023-11-23T16:07:24+08:00">
                2023-11-23
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h4 id="centos安装git"><a href="#centos安装git" class="headerlink" title="centos安装git"></a>centos安装git</h4><h4 id="1、Another-app-is-currently-holding-the-yum-lock-waiting-for-it-to-exit…-The-other-application-is-yum-Memory-26-M-RSS-963-MB-VSZ-Started-Thu-Nov-23-15-46-24-2023-04-32-ago-State-Traced-Stopped-pid-2084"><a href="#1、Another-app-is-currently-holding-the-yum-lock-waiting-for-it-to-exit…-The-other-application-is-yum-Memory-26-M-RSS-963-MB-VSZ-Started-Thu-Nov-23-15-46-24-2023-04-32-ago-State-Traced-Stopped-pid-2084" class="headerlink" title="1、Another app is currently holding the yum lock; waiting for it to exit… The other application is: yum Memory : 26 M RSS (963 MB VSZ) Started: Thu Nov 23 15:46:24 2023 - 04:32 ago State : Traced&#x2F;Stopped, pid: 2084"></a>1、Another app is currently holding the yum lock; waiting for it to exit… The other application is: yum Memory : 26 M RSS (963 MB VSZ) Started: Thu Nov 23 15:46:24 2023 - 04:32 ago State : Traced&#x2F;Stopped, pid: 2084</h4><p>有正在运行的yum进程，杀死即可</p>
<p>安装命令：git install yum</p>
<h4 id="fatal-unable-to-access-‘https-github-com-‘-Encountered-end-of-file"><a href="#fatal-unable-to-access-‘https-github-com-‘-Encountered-end-of-file" class="headerlink" title="fatal: unable to access ‘https://github.com/‘: Encountered end of file"></a>fatal: unable to access ‘<a target="_blank" rel="noopener" href="https://github.com/">https://github.com/</a>‘: Encountered end of file</h4><p>You have new mail in &#x2F;var&#x2F;spool&#x2F;mail&#x2F;root</p>
<h4 id="centos更换国内镜像"><a href="#centos更换国内镜像" class="headerlink" title="centos更换国内镜像"></a>centos更换国内镜像</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7146884369951490078">https://juejin.cn/post/7146884369951490078</a></p>
<p>export HTTP_PROXY&#x3D;<a target="_blank" rel="noopener" href="http://107.172.141.152:31734/">http://107.172.141.152:31734</a><br>export HTTPS_PROXY&#x3D;<a target="_blank" rel="noopener" href="http://107.172.141.152:31734/">http://107.172.141.152:31734</a></p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export GOPROXY=https://mirrors.aliyun.com/goproxy/</span><br></pre></td></tr></table></figure>

<p>go version go1.19.8 windows&#x2F;amd64<br>bin&#x2F;check_go_version 1.18<br>D:\softenvironment\GoWorks\src\kubo\bin\check_go_version: line 30: .&#x2F;check_version: No such file or directory<br>make: *** [mk&#x2F;golang.mk:80: check_go_version] Error 1</p>
<p>安装go环境-linux</p>
<p>1、博客：<a target="_blank" rel="noopener" href="https://learnku.com/go/wikis/26455">https://learnku.com/go/wikis/26455</a></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span>、解压：tar -C /usr/local -xzf go1<span class="number">.12</span><span class="number">.7</span>.linux-amd64.tar.gz</span><br><span class="line"><span class="number">3</span>、添加<span class="string">`/usr/loacl/go/bin`</span>目录到PATH变量中。添加到<span class="string">`/etc/profile`</span> 或<span class="string">`$HOME/.profile`</span>都可以</span><br><span class="line"><span class="number">4</span>、vim /etc/profile</span><br><span class="line">    # 在最后一行添加</span><br><span class="line">    export GOROOT=/usr/local/<span class="keyword">go</span></span><br><span class="line">    export PATH=$PATH:$GOROOT/bin</span><br><span class="line">#保存退出后source一下</span><br><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment">//ipfs构建exe文件</span></span><br><span class="line"> <span class="built_in">make</span> build GOOS=windows GOARCH=amd64</span><br><span class="line"> <span class="built_in">make</span> build GOOS=linux GOARCH=amd64</span><br><span class="line"> <span class="comment">//本机使用系统</span></span><br><span class="line"> uname -p</span><br><span class="line"> ipfs --version</span><br></pre></td></tr></table></figure>

<p>ubuntu@VM-16-6-ubuntu:&#x2F;etc$ sudo apt install golang<br>E: Type ‘rc’ is not known on line 15 in source list &#x2F;etc&#x2F;apt&#x2F;sources.list<br>E: The list of sources could not be read.<br>E: Type ‘rc’ is not known on line 15 in source list &#x2F;etc&#x2F;apt&#x2F;sources.list<br>E: The list of sources could not be read.</p>
<h4 id="go-mod-文件中指定了特定版本（例如-v1-20），而在运行-make-build-时仍然发生下载操作，可能有以下几种原因："><a href="#go-mod-文件中指定了特定版本（例如-v1-20），而在运行-make-build-时仍然发生下载操作，可能有以下几种原因：" class="headerlink" title="go mod 文件中指定了特定版本（例如 v1.20），而在运行 make build 时仍然发生下载操作，可能有以下几种原因："></a><code>go mod</code> 文件中指定了特定版本（例如 <code>v1.20</code>），而在运行 <code>make build</code> 时仍然发生下载操作，可能有以下几种原因：</h4><ol>
<li><p><strong>缓存问题：</strong> 有时，Go 模块会将依赖项缓存到 <code>$GOPATH/pkg/mod</code> 目录下。如果缓存中不存在或者被损坏，Go 可能会尝试重新下载依赖项。你可以尝试清理模块缓存：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">go clean -modcache</span><br></pre></td></tr></table></figure>

<p>然后再次运行 <code>make build</code>。</p>
</li>
<li><p><strong>代理设置：</strong> 如果你的网络环境需要通过代理连接，可能需要设置 Go 的代理环境变量。尝试设置 <code>GOPROXY</code> 环境变量为一个可以正常访问的代理地址：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GOPROXY=https://proxy.golang.org</span><br><span class="line"><span class="built_in">export</span> GOPROXY=https://proxy.golang.org,direct</span><br></pre></td></tr></table></figure>

<p>然后再运行 <code>make build</code>。</p>
</li>
<li><p><strong>Go 版本不匹配：</strong> 确保你的 Go 版本与 <code>go.mod</code> 文件中指定的版本一致。如果 <code>go.mod</code> 文件中指定了 <code>v1.20</code>，你的 Go 版本也应该是 1.20。</p>
</li>
<li><p><strong>项目内部逻辑：</strong> 有时，<code>make build</code> 中的逻辑可能包含了特定版本的下载命令，即使 <code>go.mod</code> 文件中已经指定了版本。检查 <code>makefile</code> 或构建脚本，确保其中的下载命令没有覆盖 <code>go.mod</code> 中的版本。</p>
</li>
</ol>
<p>ps -f -p 80500</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local -xzf go1.14.13.linux-amd64.tar.gz &amp;&amp; mv /usr/local/go /usr/local/go.14.13</span><br><span class="line">tar -C /testtar/ -xzf test.zip</span><br></pre></td></tr></table></figure>



<h4 id="今日份恶心问题之tar命令"><a href="#今日份恶心问题之tar命令" class="headerlink" title="今日份恶心问题之tar命令"></a>今日份恶心问题之tar命令</h4><p>起因：在服务器安装go环境时候，下载的是go1.14.13.linux-amd64.tar.gz的包，因为go的版本很多，就下载了很多版本，根据网上的教程使用命令&#96;&#96;&#96;tar -C &#x2F;usr&#x2F;local -xzf  go1.14.13.linux-amd64.tar.gz&#96;&#96;,运行完，你的&#x2F;usr&#x2F;local的文件夹下面会多一个go文件夹，里面就是你的环境，然后我切换版本，</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local -xzf  go1.15.13.linux-amd64.tar.gz</span><br></pre></td></tr></table></figure>

<p><strong>重点来了:tar命令，-x：从压缩的文件中提取文件，-z：支持gzip解压文件，-f指定压缩文件，此命令并不会删除原先&#x2F;usr&#x2F;local文件夹里原先go1.14.13.linux-amd64.tar.gz有的文件，而go1.15.13.linux-amd64.tar.gz没有的文件，导致make build的时候频繁出现，版本不兼容，要么多包，要么少包的情况</strong></p>
<p><strong>解决办法：</strong></p>
<p><strong>方法1：可以解压到不同的文件夹下面，这个最简单，但是有的时候就要解压到相同的文件夹呢</strong></p>
<p><strong>方法2：</strong></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local -tzf go1<span class="number">.12</span><span class="number">.7</span>.linux-amd64.tar.gz | xargs rm -rf</span><br><span class="line">tar -C /usr/local -xzf go1<span class="number">.12</span><span class="number">.7</span>.linux-amd64.tar.gz</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这个命令组合实现了以下步骤：</p>
<figure class="highlight plaintext"><figcaption><span>-C</span><a href="/usr/local">-tzf go1.12.7.linux-amd64.tar.gz```：通过 tar 命令的 -t 选项和 -z 选项，列出压缩文件 go1.12.7.linux-amd64.tar.gz 中的所有文件。然后，通过管道将文件列表传递给下一个命令。</a></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```xargs rm -rf```：使用 xargs 命令结合 rm -rf 命令，从上一步的文件列表中删除所有文件和目录。</span><br><span class="line"></span><br><span class="line">```tar -C /usr/local -xzf go1.12.7.linux-amd64.tar.gz```：使用 tar 命令将 go1.12.7.linux-amd64.tar.gz 文件解压缩到 /usr/local 目录中。</span><br><span class="line"></span><br><span class="line">这样，除了 go1.12.7.linux-amd64.tar.gz 文件本身，/usr/local 目录中的其他文件和目录将被删除，并被解压缩后的文件替换。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">一些小知识：</span><br><span class="line"></span><br><span class="line">```text</span><br><span class="line">-c 建立新的压缩文件</span><br><span class="line">-r 添加文件到已经压缩的文件</span><br><span class="line">-u 添加改变了和现有的文件到已经存在的压缩文件</span><br><span class="line">-x 从压缩的文件中提取文件</span><br><span class="line">-t 显示压缩文件的内容</span><br><span class="line">-z 支持gzip解压文件</span><br><span class="line">-j 支持bzip2解压文件</span><br><span class="line">-v 显示操作过程</span><br><span class="line">-k 保留源有文件不覆盖</span><br><span class="line">-C 切换到指定目录</span><br><span class="line">-f 指定压缩文件</span><br><span class="line"></span><br><span class="line">--delete            删除包中文件</span><br><span class="line">--strip-components  去除目录</span><br><span class="line">--add-file          向包中添加文件</span><br></pre></td></tr></table></figure>

<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar -C /usr/local -xzf go1<span class="number">.14</span><span class="number">.13</span>.linux-amd64.tar.gz &amp;&amp; mv /usr/local/<span class="keyword">go</span> /usr/local/<span class="keyword">go</span><span class="number">.14</span><span class="number">.13</span>  <span class="comment">//修改解压后的文件名</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>df -h    &#x2F;&#x2F;查看磁盘使用情况</strong></p>
<h4 id="ipfs和pprof的安装使用"><a href="#ipfs和pprof的安装使用" class="headerlink" title="ipfs和pprof的安装使用"></a>ipfs和pprof的安装使用</h4><p><strong>1、ipfs daemon</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">//上传文件</span><br><span class="line">$ vim upchain.txt</span><br><span class="line"></span><br><span class="line">$ ipfs add upchain.txt</span><br><span class="line">add  ed4iTYXBKxpZQ upchain.txt</span><br><span class="line"> 19 B / 19 B  100.00%</span><br><span class="line"></span><br><span class="line">$ ipfs cat  mQKFRdRSFM4iTYXBKxpZQ</span><br><span class="line">&quot;你好，hello“</span><br><span class="line"></span><br><span class="line">ipfs daemon  //启动ipfs</span><br><span class="line">http://127.0.0.1:5001/webui</span><br></pre></td></tr></table></figure>

<p><strong>2、浏览器启动ipfs后台：<a target="_blank" rel="noopener" href="http://127.0.0.1:5001/webui">http://127.0.0.1:5001/webui</a></strong></p>
<p><img src="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271721856.png" alt="image-20231127172027384"></p>
<p><strong>看进程的cpu，进程的一些内存，函数运行时间</strong></p>
<p><strong>网址：</strong></p>
<p><img src="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271720598.png" alt="image-20231127172004490"></p>
<p><img src="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271701774.png" alt="image-20231127170123070"></p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">go</span> tool pprof http:<span class="comment">//127.0.0.1:5001/debug/pprof/profile</span></span><br><span class="line">Fetching profile over HTTP from http:<span class="comment">//127.0.0.1:5001/debug/pprof/profile</span></span><br><span class="line">Saved profile in C:\Users\wllwo\pprof\pprof.ipfs.exe.samples.cpu<span class="number">.001</span>.pb.gz</span><br><span class="line">File: ipfs.exe</span><br><span class="line">Build ID: D:\softenvironment\GoWorks\bin\ipfs.exe2023<span class="number">-11</span><span class="number">-23</span> <span class="number">20</span>:<span class="number">10</span>:<span class="number">10.0792554</span> +<span class="number">0800</span> CST</span><br><span class="line">Type: cpu</span><br><span class="line">Time: Nov <span class="number">27</span>, <span class="number">2023</span> at <span class="number">4</span>:<span class="number">55</span>pm (CST)</span><br><span class="line">Duration: <span class="number">30.18</span>s, Total samples = <span class="number">9.69</span>s (<span class="number">32.11</span>%)</span><br><span class="line">Entering interactive mode (<span class="keyword">type</span> <span class="string">&quot;help&quot;</span> <span class="keyword">for</span> commands, <span class="string">&quot;o&quot;</span> <span class="keyword">for</span> options)</span><br><span class="line">(pprof) web</span><br><span class="line">failed to execute dot. Is Graphviz installed? Error: exec: <span class="string">&quot;dot&quot;</span>: executable file not found in %PATH%</span><br><span class="line">(pprof)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">go</span> tool pprof http:<span class="comment">//localhost:9909/debug/pprof/profile?seconds=6</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>1、使用命令看： go tool pprof <a target="_blank" rel="noopener" href="http://localhost:5001/debug/pprof/profile?seconds=6">http://localhost:5001/debug/pprof/profile?seconds=6</a></p>
<p>我们看下面图片，命令执行后，过了6秒钟进入交互式控制台，我输入了top6，代表意思是显示前6个消耗CPU较多的方法，图中的flat，sum，cum是什么含义呢，接下来解释一下。</p>
<p><img src="https://hexoblog-1309432441.cos.ap-shanghai.myqcloud.com/img/202311271714203.png" alt="image-20231127171409691"></p>
<ul>
<li><strong>flat</strong>：给定函数上的运行耗时</li>
<li><strong>flat%</strong> ：给定函数上的CPU运行耗时占比</li>
<li><strong>sum%</strong> ：给定函数累积使用CPU总比例</li>
<li><strong>cum</strong> ：当前函数加上它之前的调用运行总耗时</li>
<li><strong>cum%</strong> ：当前函数加上他之前的调用CPU运行耗时占比</li>
</ul>
<p>2、使用可视化界面监控pprof</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">curl http://127.0.0.1:5001/debug/pprof/profile &gt; 1-heap.out</span><br><span class="line">go tool pprof -http=0.0.0.0:8088 1-heap.out</span><br><span class="line">访问:http://192.168.31.160(运行的服务器ip):8088</span><br></pre></td></tr></table></figure>



<h4 id="docker部署Go语言项目"><a href="#docker部署Go语言项目" class="headerlink" title="docker部署Go语言项目"></a>docker部署Go语言项目</h4><p><a target="_blank" rel="noopener" href="https://www.51cto.com/article/706381.html">https://www.51cto.com/article/706381.html</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=$PATH:/usr/local/go.1.17.5/go/bin:/home/gopath/src/kubo-0.8.0/cmd/ipfs</span><br></pre></td></tr></table></figure>



<h4 id="ipfs升级新版本"><a href="#ipfs升级新版本" class="headerlink" title="ipfs升级新版本"></a>ipfs升级新版本</h4><p>如果您希望将之前版本的 IPFS 数据兼容同步到新版本的 IPFS，您可以按照以下步骤进行操作：</p>
<ol>
<li><p>备份旧版本的 IPFS 数据：首先，确保您对旧版本的 IPFS 数据进行备份，以防止意外数据丢失。您可以复制保存旧版本的 IPFS 数据存储库的目录，通常默认位于 <code>~/.ipfs</code> 或 <code>/var/lib/ipfs</code>。将其保存在安全的位置，以便在需要时进行恢复。</p>
</li>
<li><p>升级到新版本的 IPFS：下载并安装新版本的 IPFS。您可以访问 IPFS 官方网站或使用适用于您的操作系统的包管理器来获取最新的 IPFS 版本。</p>
</li>
<li><p>初始化新版本的 IPFS：使用新版本的 IPFS 初始化新的数据存储库。运行以下命令来初始化新的 IPFS 存储库：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipfs init</span><br></pre></td></tr></table></figure>

<p>这将创建一个新的 IPFS 存储库，并生成一个新的配置文件和密钥。</p>
</li>
<li><p>迁移旧版本数据到新版本：将旧版本 IPFS 数据迁移到新版本的存储库中。为此，您需要将旧版本的存储库中的特定目录和文件复制到新版本的存储库中。具体来说，您需要将旧版本存储库的以下目录和文件复制到新存储库的相应位置：</p>
<ul>
<li><code>blocks</code> 目录：包含 IPFS 文件块数据的目录。</li>
<li><code>datastore</code> 目录：包含 IPFS 数据库的目录。</li>
<li><code>config</code> 文件：旧版本 IPFS 的配置文件。</li>
</ul>
<p>请注意，确保在复制过程中保持目录结构和文件权限。</p>
</li>
<li><p>启动新版本的 IPFS：运行以下命令来启动新版本的 IPFS：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ipfs daemon</span><br></pre></td></tr></table></figure>

<p>这将启动新版本的 IPFS 守护进程，并开始同步和提供 IPFS 服务。</p>
</li>
</ol>
<p>通过执行上述步骤，您应该能够将旧版本的 IPFS 数据兼容同步到新版本的 IPFS。请记住，根据新版本的 IPFS 版本和配置更改，可能还需要进行其他调整和配置。确保在升级过程中参考新版本的 IPFS 文档和发行说明，并根据需要进行相应的配置更改。</p>
<p>find . -type f -exec grep -l “usjfisdifsjfnsnfksnfksnkfnsknk” {} +</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost go-ipfs]# ipfs init</span><br><span class="line">generating ED25519 keypair...done</span><br><span class="line">peer identity: 12D3KooWA8ZPan4ebqa7tYyV8YWHL9dfcYjMcFNMfRyoB2j3DA5z</span><br><span class="line">initializing IPFS node at /root/.ipfs</span><br><span class="line">to get started, enter:</span><br><span class="line"></span><br><span class="line">	ipfs cat /ipfs/QmQPeNsJPyVWPFDVHb77w8G42Fvo15z4bG2X8D2GhfbSXc/readme</span><br><span class="line"></span><br><span class="line">[root@localhost go-ipfs]# ipfs bootstrap list</span><br><span class="line">ipfs bootstrap add /ip4/192.168.31.160/tcp/4001/p2p/ipfs bootstrap add  + (命令ipfs id出现的Address)</span><br><span class="line">[root@localhost system]# sudo systemctl daemon-reload</span><br><span class="line">[root@localhost system]# sudo systemctl start ipfs.service</span><br><span class="line">systemctl restart ipfs.service</span><br><span class="line"></span><br><span class="line">//拷贝</span><br><span class="line">scp [需要拷贝的文件路径] root@[ip地址]:[文件夹]</span><br><span class="line"></span><br></pre></td></tr></table></figure>






      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2023/11/06/%E9%93%BE%E8%A1%A8/" rel="next" title="链表">
                <i class="fa fa-chevron-left"></i> 链表
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2023/11/28/Docker%E5%AD%A6%E4%B9%A0/" rel="prev" title="Docker学习">
                Docker学习 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">5</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#centos%E5%AE%89%E8%A3%85git"><span class="nav-number">1.</span> <span class="nav-text">centos安装git</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#1%E3%80%81Another-app-is-currently-holding-the-yum-lock-waiting-for-it-to-exit%E2%80%A6-The-other-application-is-yum-Memory-26-M-RSS-963-MB-VSZ-Started-Thu-Nov-23-15-46-24-2023-04-32-ago-State-Traced-Stopped-pid-2084"><span class="nav-number">2.</span> <span class="nav-text">1、Another app is currently holding the yum lock; waiting for it to exit… The other application is: yum Memory : 26 M RSS (963 MB VSZ) Started: Thu Nov 23 15:46:24 2023 - 04:32 ago State : Traced&#x2F;Stopped, pid: 2084</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fatal-unable-to-access-%E2%80%98https-github-com-%E2%80%98-Encountered-end-of-file"><span class="nav-number">3.</span> <span class="nav-text">fatal: unable to access ‘https:&#x2F;&#x2F;github.com&#x2F;‘: Encountered end of file</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#centos%E6%9B%B4%E6%8D%A2%E5%9B%BD%E5%86%85%E9%95%9C%E5%83%8F"><span class="nav-number">4.</span> <span class="nav-text">centos更换国内镜像</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#go-mod-%E6%96%87%E4%BB%B6%E4%B8%AD%E6%8C%87%E5%AE%9A%E4%BA%86%E7%89%B9%E5%AE%9A%E7%89%88%E6%9C%AC%EF%BC%88%E4%BE%8B%E5%A6%82-v1-20%EF%BC%89%EF%BC%8C%E8%80%8C%E5%9C%A8%E8%BF%90%E8%A1%8C-make-build-%E6%97%B6%E4%BB%8D%E7%84%B6%E5%8F%91%E7%94%9F%E4%B8%8B%E8%BD%BD%E6%93%8D%E4%BD%9C%EF%BC%8C%E5%8F%AF%E8%83%BD%E6%9C%89%E4%BB%A5%E4%B8%8B%E5%87%A0%E7%A7%8D%E5%8E%9F%E5%9B%A0%EF%BC%9A"><span class="nav-number">5.</span> <span class="nav-text">go mod 文件中指定了特定版本（例如 v1.20），而在运行 make build 时仍然发生下载操作，可能有以下几种原因：</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%8A%E6%97%A5%E4%BB%BD%E6%81%B6%E5%BF%83%E9%97%AE%E9%A2%98%E4%B9%8Btar%E5%91%BD%E4%BB%A4"><span class="nav-number">6.</span> <span class="nav-text">今日份恶心问题之tar命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ipfs%E5%92%8Cpprof%E7%9A%84%E5%AE%89%E8%A3%85%E4%BD%BF%E7%94%A8"><span class="nav-number">7.</span> <span class="nav-text">ipfs和pprof的安装使用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#docker%E9%83%A8%E7%BD%B2Go%E8%AF%AD%E8%A8%80%E9%A1%B9%E7%9B%AE"><span class="nav-number">8.</span> <span class="nav-text">docker部署Go语言项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#ipfs%E5%8D%87%E7%BA%A7%E6%96%B0%E7%89%88%E6%9C%AC"><span class="nav-number">9.</span> <span class="nav-text">ipfs升级新版本</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2023</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
